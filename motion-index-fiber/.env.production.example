# Production Environment Configuration Template
# Motion-Index Fiber - DigitalOcean App Platform

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=8080
ENVIRONMENT=production
PRODUCTION=true
ALLOWED_ORIGINS=https://your-frontend-domain.com,https://motion-index.ondigitalocean.app

# =============================================================================
# DIGITALOCEAN SPACES CONFIGURATION
# =============================================================================
# Get these from your DigitalOcean Spaces settings
DO_SPACES_KEY=your_spaces_access_key_here
DO_SPACES_SECRET=your_spaces_secret_key_here
DO_SPACES_BUCKET=motion-index-docs
DO_SPACES_REGION=nyc3
DO_SPACES_CDN_DOMAIN=

# Alternative storage configuration names (legacy support)
STORAGE_BACKEND=spaces
STORAGE_ACCESS_KEY=your_spaces_access_key_here
STORAGE_SECRET_KEY=your_spaces_secret_key_here
STORAGE_BUCKET=motion-index-docs
STORAGE_REGION=nyc3
STORAGE_CDN_DOMAIN=

# =============================================================================
# DIGITALOCEAN MANAGED OPENSEARCH CONFIGURATION
# =============================================================================
# Get these from your DigitalOcean Managed OpenSearch cluster
ES_HOST=your-opensearch-cluster-id.k.db.ondigitalocean.com
ES_PORT=25060
ES_USERNAME=doadmin
ES_PASSWORD=your_opensearch_password_here
ES_USE_SSL=true
ES_INDEX=documents

# Alternative OpenSearch configuration names
OPENSEARCH_HOST=your-opensearch-cluster-id.k.db.ondigitalocean.com
OPENSEARCH_PORT=25060
OPENSEARCH_USERNAME=doadmin
OPENSEARCH_PASSWORD=your_opensearch_password_here
OPENSEARCH_USE_SSL=true
OPENSEARCH_INDEX=documents

# =============================================================================
# SUPABASE AUTHENTICATION CONFIGURATION
# =============================================================================
# Get these from your Supabase project settings
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_KEY=your_supabase_service_role_key_here
JWT_SECRET=your_very_secure_jwt_secret_256_bits_minimum

# =============================================================================
# AI SERVICES CONFIGURATION
# =============================================================================
# OpenAI Configuration (Primary AI Provider)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4

# Claude Configuration (Fallback AI Provider)
CLAUDE_API_KEY=your_claude_api_key_here
CLAUDE_MODEL=claude-3-sonnet-20240229
CLAUDE_BASE_URL=https://api.anthropic.com

# Ollama Configuration (Local Fallback)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=gpt-oss:20b
OLLAMA_TIMEOUT=120s

# AI Fallback Configuration
AI_ENABLE_FALLBACK=true
AI_RETRY_ATTEMPTS=3
AI_RETRY_DELAY=5s

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================
# File processing limits and performance tuning
MAX_FILE_SIZE=104857600  # 100MB
MAX_REQUEST_SIZE=104857600  # 100MB
MAX_WORKERS=10
BATCH_SIZE=50
PROCESS_TIMEOUT=5m

# Database Configuration (if using managed database)
DB_HOST=your-db-host.db.ondigitalocean.com
DB_PORT=25060
DB_USERNAME=doadmin
DB_PASSWORD=your_db_password_here
DB_DATABASE=motion_index
DB_USE_SSL=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Production logging settings
LOG_LEVEL=info
LOG_FORMAT=json  # JSON format for better log aggregation
ENABLE_REQUEST_LOGGING=true
ENABLE_ERROR_DETAILS=false  # Disable detailed errors in production for security
ENABLE_STACK_TRACE=false   # Disable stack traces in production for security

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Security headers and CORS
ENABLE_SECURITY_HEADERS=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=1m

# TLS Configuration (handled by App Platform)
TLS_CERT_PATH=
TLS_KEY_PATH=

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
# Metrics and monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=30s

# External monitoring services
SENTRY_DSN=your_sentry_dsn_here
DATADOG_API_KEY=your_datadog_api_key_here

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Go runtime configuration
GOGC=100
GOMAXPROCS=0  # Use all available CPUs
GOMEMLIMIT=1GiB

# Cache configuration
ENABLE_CACHE=true
CACHE_TTL=1h
CACHE_MAX_SIZE=100MB

# =============================================================================
# DIGITALOCEAN API CONFIGURATION (Optional)
# =============================================================================
# For advanced DigitalOcean API integration
DO_API_TOKEN=your_digitalocean_api_token_here

# =============================================================================
# BACKUP AND MAINTENANCE
# =============================================================================
# Backup configuration
ENABLE_BACKUPS=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# Maintenance windows
MAINTENANCE_ENABLED=false
MAINTENANCE_START_TIME=02:00
MAINTENANCE_END_TIME=04:00
MAINTENANCE_TIMEZONE=America/New_York

# =============================================================================
# CALIFORNIA LEGAL COMPLIANCE
# =============================================================================
# Legal document processing configuration
ENABLE_REDACTION=true
CALIFORNIA_COMPLIANCE=true
LEGAL_CITATION_VALIDATION=true
AUDIT_LOGGING=true

# =============================================================================
# NOTES FOR DEPLOYMENT
# =============================================================================
# 1. Replace all placeholder values with actual credentials
# 2. Ensure all secrets are stored securely in DigitalOcean App Platform
# 3. Never commit actual credentials to version control
# 4. Use App Platform's environment variable encryption for sensitive data
# 5. Regularly rotate API keys and secrets
# 6. Monitor logs for any configuration errors
# 7. Test all integrations in staging before production deployment